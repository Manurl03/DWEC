<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>U4-A06</title>
        <style>
            table {
                border-collapse: collapse;
                display: none;
            }

            th, td {
                text-align: center;
                border: 1px solid #000;
                padding: 5px;
            }
        </style>
    </head>
    <body>

        <p>Introduzca el nombre del alumno: <input type="text" id="nombre"></p>
        <p>Introduzca la nota del modulo 1: <input type="text" id="modulo1"></p>
        <p>Introduzca la nota del modulo 2: <input type="text" id="modulo2"></p>
        <p>Introduzca la nota del modulo 3: <input type="text" id="modulo3"></p>

        <button onclick="crearArrayAlumno()">Enviar</button>

        <p id="error"></p>

        <table id="tabla">
            <tr>
                <th>Nombre</th>
                <th>Primera nota</th>
                <th>Segunda nota</th>
                <th>Tercera nota</th>
            </tr>
        </table>

        <script>
            var array = [];

            function crearArrayAlumno(){
                var nombre = document.getElementById('nombre').value;
                var modulo1 = parseInt(document.getElementById('modulo1').value);
                var modulo2 = parseInt(document.getElementById('modulo2').value);
                var modulo3 = parseInt(document.getElementById('modulo3').value);
                            
                if (error(modulo1) && error(modulo2) && error(modulo3)){
                    var alumno = [nombre, modulo1, modulo2, modulo3];
                    array.push(alumno);
                    agregarFilaTabla(alumno);
                    if (array.length == 5){
                        document.getElementById('tabla').style.display = 'table';
                    } else {
                        document.getElementById('error').innerHTML = 'Alumno introducido correctamente';
                    }
                }
                
                document.getElementById('nombre').value = '';
                document.getElementById('modulo1').value = '';
                document.getElementById('modulo2').value = '';
                document.getElementById('modulo3').value = '';
            }

            function error(modulo) {
                if(modulo < 0 || modulo > 10){
                    document.getElementById('error').innerHTML = `Las notas deben ser entre 0 y 10 :D`;
                    return false;       
                } else {
                    document.getElementById('error').innerHTML = '';
                    return true;
                }
            }

            function agregarFilaTabla(alumno) {
                var fila = document.getElementById('tabla').insertRow();
                for (var i = 0; i < alumno.length; i++) {
                    fila.insertCell().innerHTML = alumno[i];
                }
            }
        </script>
    </body>
</html>